<!-- HTML header for doxygen 1.13.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=11"/>
  <meta name="generator" content="Doxygen 1.12.0"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>MCRO: MCRO</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <script type="text/javascript" src="clipboard.js"></script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
  <script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
  <script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
  <script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
  <script type="text/javascript">
      DoxygenAwesomeDarkModeToggle.init()
      DoxygenAwesomeParagraphLink.init()
      DoxygenAwesomeInteractiveToc.init()
      DoxygenAwesomeTabs.init()
  </script>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr id="projectrow">
              <td id="projectlogo"><img alt="Logo" src="proto-logo-0-small.png"/></td>
              <td id="projectalign">
                <div id="projectname">MCRO
                </div>
                <div id="projectbrief">C++23 utilities for Unreal Engine.</div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">MCRO </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul>
  <li class="level1">
    <a href="#autotoc_md11">Who is this library for?</a>
  </li>
  <li class="level1">
    <a href="#autotoc_md12">What MCRO can do?</a>
    <ul>
      <li class="level2">
        <a href="#autotoc_md13">Range-V3 for Unreal Containers</a>
      </li>
      <li class="level2">
        <a href="#autotoc_md14">Error handling</a>
      </li>
      <li class="level2">
        <a href="#autotoc_md15">Text macros without parentheses</a>
      </li>
      <li class="level2">
        <a href="#autotoc_md16">String formatting literals</a>
        <ul>
          <li class="level3">
            <a href="#autotoc_md17">Ranges as strings</a>
          </li>
        </ul>
      </li>
      <li class="level2">
        <a href="#autotoc_md18">Delegate type inference</a>
      </li>
      <li class="level2">
        <a href="#autotoc_md19">Advanced TEventDelegate</a>
      </li>
      <li class="level2">
        <a href="#autotoc_md20">TTypeName</a>
      </li>
      <li class="level2">
        <a href="#autotoc_md21">Auto modular features</a>
      </li>
      <li class="level2">
        <a href="#autotoc_md22">Observable TState</a>
      </li>
      <li class="level2">
        <a href="#autotoc_md23">Function Traits</a>
      </li>
      <li class="level2">
        <a href="#autotoc_md24">Extending the Slate declarative syntax</a>
      </li>
      <li class="level2">
        <a href="#autotoc_md25">ISPC parallel tasks support</a>
      </li>
      <li class="level2">
        <a href="#autotoc_md26">Last but not least</a>
      </li>
    </ul>
  </li>
  <li class="level1">
    <a href="#Legal">Legal</a>
  </li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="mainpage"></a></p>
<div align="center"></div><div align="center"><img src="proto-logo-0.webp" alt="" width="400" class="inline"/></div><div align="center">A C++23 templating and utilities Unreal Engine plugin, for a more civilized age.</div><div align="center"></div><dl class="section attention"><dt>Attention</dt><dd>This library is still under active development, nothing is set to stone yet in its updates. Use in production only if you know very well what you're doing.</dd></dl>
<p><b><a href="https://github.com/microdee/mcro">Source code</a></b></p>
<h1><a class="anchor" id="autotoc_md11"></a>
Who is this library for?</h1>
<p>MCRO (pronounced 'em-cro') is made for C++ developers who may view Unreal Engine as a C++ framework first and as a content creation tool second. It is meant to support development of other plugins, so MCRO on its own has no primary purpose, but to provide building blocks for its dependant plugins.</p>
<p>It also embraces quite elaborate C++ techniques involving templates and synergic combination of language features. The documentation also makes some effort explaining these techniques when used by MCRO, but the library users themselves don't need to go that deep, in order to enjoy many features of MCRO.</p>
<h1><a class="anchor" id="autotoc_md12"></a>
What MCRO can do?</h1>
<p>Here are some code appetizers without going too deep into their details. The demonstrated features usually can do a lot more than what's shown here.</p>
<p><em>(symbols in source code are clickable!)</em></p>
<h2><a class="anchor" id="autotoc_md13"></a>
Range-V3 for Unreal Containers</h2>
<p>In vanilla Unreal working with containers is an imperative endeavor where if we need to manipulate them intermediate steps are usually stored in other containers. MCRO on the other hand brings in lazy-evaluated declarative range manipulation via the great <a href="https://github.com/ericniebler/range-v3">Range-V3</a> library.</p>
<div class="tabbed"></div><div class="tabbed"><ul>
<li>
<p class="startli"></p>
<p class="interli"><b class="tab-title">Range-V3:</b></p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="da/db5/CommonCore_8h.html">Mcro/CommonCore.h</a>&quot;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="d4/df4/namespaceMcro_1_1Common.html">Mcro::Common</a>;</div>
<div class="line"><span class="keyword">using namespace </span>ranges;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum class</span> EFoobar { Foo, Bar };</div>
<div class="line"> </div>
<div class="line">TArray&lt;int32&gt; myKeys {1, 2, 0, 0, -3, 3, 0, 4, 5};</div>
<div class="line">TSet&lt;EFoobar&gt; myValues {EFoobar::Foo, EFoobar::Bar};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> myMap = myKeys</div>
<div class="line">    | views::filter([](int32 key) { <span class="keywordflow">return</span> key &gt; 0; })</div>
<div class="line">    | views::transform([](int32 key) { <span class="keywordflow">return</span> FString::FromInt(key); })</div>
<div class="line">    | <a class="code hl_function" href="de/d41/namespaceMcro_1_1Range.html#a9053bb44137480906903f575984253e5">Zip</a>(myValues | views::cycle)</div>
<div class="line">    | <a class="code hl_class" href="d8/d57/classMcro_1_1Range_1_1RenderAsMap.html">RenderAsMap</a>();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// -&gt; TMap&lt;FString, EFoobar&gt; { {&quot;1&quot;, Foo}, {&quot;2&quot;, Bar}, {&quot;3&quot;, Foo}, {&quot;4&quot;, Bar}, {&quot;5&quot;, Foo} }</span></div>
<div class="ttc" id="aCommonCore_8h_html"><div class="ttname"><a href="da/db5/CommonCore_8h.html">CommonCore.h</a></div><div class="ttdoc">This header is a central include for simpler utilities MCRO offers. Higher level features like errors...</div></div>
<div class="ttc" id="aclassMcro_1_1Range_1_1RenderAsMap_html"><div class="ttname"><a href="d8/d57/classMcro_1_1Range_1_1RenderAsMap.html">Mcro::Range::RenderAsMap</a></div><div class="ttdoc">Render a range of tuples or range of ranges with at least 2 elements as a TMap.</div><div class="ttdef"><b>Definition</b> <a href="db/dcf/Conversion_8h_source.html#l00394">Conversion.h:395</a></div></div>
<div class="ttc" id="anamespaceMcro_1_1Common_html"><div class="ttname"><a href="d4/df4/namespaceMcro_1_1Common.html">Mcro::Common</a></div><div class="ttdoc">Use this namespace for all the common features MCRO has to offer.</div><div class="ttdef"><b>Definition</b> <a href="dc/d33/Common_8h_source.html#l00047">Common.h:48</a></div></div>
<div class="ttc" id="anamespaceMcro_1_1Range_html_a9053bb44137480906903f575984253e5"><div class="ttname"><a href="de/d41/namespaceMcro_1_1Range.html#a9053bb44137480906903f575984253e5">Mcro::Range::Zip</a></div><div class="ttdeci">auto Zip(Ranges &amp;&amp;...right)</div><div class="ttdoc">pipeable version of ranges::views::zip</div><div class="ttdef"><b>Definition</b> <a href="dc/dc7/Views_8h_source.html#l00031">Views.h:31</a></div></div>
</div><!-- fragment --><p class="interli"></p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><b class="tab-title">Vanilla:</b></p>
<div class="fragment"><div class="line"><span class="comment">//</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">enum class</span> EFoobar { Foo, Bar };</div>
<div class="line"> </div>
<div class="line">TArray&lt;int32&gt; myKeys {1, 2, 0, 0, -3, 3, 0, 4, 5};</div>
<div class="line">TSet&lt;EFoobar&gt; myValues {EFoobar::Foo, EFoobar::Bar};</div>
<div class="line"> </div>
<div class="line">TArray&lt;int32&gt; myKeysFiltered = myKeys.FilterByPredicate([](int32 key) { <span class="keywordflow">return</span> key &gt; 0; });</div>
<div class="line">TArray&lt;FString&gt; myKeyStrings;</div>
<div class="line">Algo::Transform(myKeysFiltered, myKeyStrings, [](int32 key) { <span class="keywordflow">return</span> FString::FromInt(key); });</div>
<div class="line"> </div>
<div class="line">TMap&lt;FString, EFoobar&gt; myMap;</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; myKeyStrings.Num(); ++i)</div>
<div class="line">{</div>
<div class="line">    myMap.Add(myKeyStrings[i], myValues[i % myValues.Num()]);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// -&gt; TMap&lt;FString, EFoobar&gt; { {&quot;1&quot;, Foo}, {&quot;2&quot;, Bar}, {&quot;3&quot;, Foo}, {&quot;4&quot;, Bar}, {&quot;5&quot;, Foo} }</span></div>
</div><!-- fragment --><p class="interli"></p>
<p class="endli"></p>
</li>
</ul>
</div><div class="tabbed"></div><p>Notice how we didn't need to specify the TMap type, where both the key and value types were deduced from how the input ranges were manipulated before.</p>
<p>Not yet impressed? May this snippet change that:</p>
<div class="fragment"><div class="line">TArray&lt;int32&gt; mySetCopy;</div>
<div class="line">TArray&lt;int32&gt; myArray;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Prepare for some amount of elements, but it&#39;s optional at the cost of some performance</span></div>
<div class="line">myArray.SetNumUninitialized(6);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// this here does nothing yet, as it&#39;s lazily evaluated, and in its current form, represents an infinite range</span></div>
<div class="line"><span class="keyword">auto</span> squares = views::ints(0)</div>
<div class="line">    | views::transform([](int32 i) { <span class="keywordflow">return</span> i*i; });</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> mySet = squares</div>
<div class="line">    | views::take(5)       <span class="comment">// &lt;- so we don&#39;t have infinite loop when evaluating</span></div>
<div class="line">    | <a class="code hl_class" href="d0/d5d/classMcro_1_1Range_1_1RenderAs.html">RenderAs&lt;TSet&gt;</a>()     <span class="comment">// &lt;- the sequence of views is evaluated here</span></div>
<div class="line">    | <a class="code hl_class" href="d0/dcf/classMcro_1_1Range_1_1OutputTo.html">OutputTo</a>(mySetCopy); <span class="comment">// &lt;- duplicate in one go</span></div>
<div class="line">                           <span class="comment">//    (this is also faster than RenderAs given the container is big enough)</span></div>
<div class="line"><span class="comment">// mySet     -&gt; TSet&lt;int32&gt;   {0, 1, 4, 9, 16}</span></div>
<div class="line"><span class="comment">// mySetCopy -&gt; TArray&lt;int32&gt; {0, 1, 4, 9, 16}</span></div>
<div class="line"> </div>
<div class="line">squares</div>
<div class="line">    | views::take(6)    <span class="comment">// &lt;- take a different amount this time</span></div>
<div class="line">    | <a class="code hl_class" href="d0/dcf/classMcro_1_1Range_1_1OutputTo.html">OutputTo</a>(myArray) <span class="comment">// &lt;- the sequence of views is evaluated here again</span></div>
<div class="line"><span class="comment">// myArray -&gt; TArray&lt;int32&gt; {0, 1, 4, 9, 16, 25}</span></div>
<div class="ttc" id="aclassMcro_1_1Range_1_1OutputTo_html"><div class="ttname"><a href="d0/dcf/classMcro_1_1Range_1_1OutputTo.html">Mcro::Range::OutputTo</a></div><div class="ttdoc">Render a range to an already existing container.</div><div class="ttdef"><b>Definition</b> <a href="db/dcf/Conversion_8h_source.html#l00329">Conversion.h:330</a></div></div>
<div class="ttc" id="aclassMcro_1_1Range_1_1RenderAs_html"><div class="ttname"><a href="d0/d5d/classMcro_1_1Range_1_1RenderAs.html">Mcro::Range::RenderAs</a></div><div class="ttdoc">Render a range as the given container.</div><div class="ttdef"><b>Definition</b> <a href="db/dcf/Conversion_8h_source.html#l00276">Conversion.h:277</a></div></div>
</div><!-- fragment --><p>Notice how <code>RenderAs</code> could deduce the full type of <code>TSet</code> from its preceeding operations. This works with many Unreal containers.</p>
<p>This is just the very tip of the iceberg what this pattern of collection handling can introduce.</p>
<h2><a class="anchor" id="autotoc_md14"></a>
Error handling</h2>
<p>An elegant workflow for dealing with code which can and probably will fail. It allows the developer to record the circumstances of an error, record its propagation accross components which are affected, add suggestions to the user or fellow developers for fixing the error, and display that with a modal Slate window, or print it into logs following a YAML structure.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="dc/d33/Common_8h.html">Mcro/Common.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="d2/d94/structMcro_1_1Error_1_1TMaybe.html">FCanFail</a> FK4ADevice::Tick_Sync()</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">using namespace </span><a class="code hl_namespace" href="d4/df4/namespaceMcro_1_1Common.html">Mcro::Common</a>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_define" href="de/dba/Error_8h.html#a529954a73801be667c2102e0500b2620">ASSERT_RETURN</a>(Device.is_valid())</div>
<div class="line">        -&gt;AsCrashing()</div>
<div class="line">        -&gt;BreakDebugger()</div>
<div class="line">        -&gt;WithCppStackTrace()</div>
<div class="line">        -&gt;Notify(LastError);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">try</span></div>
<div class="line">    {</div>
<div class="line">        k4a::capture capture;</div>
<div class="line">        <a class="code hl_define" href="de/dba/Error_8h.html#a529954a73801be667c2102e0500b2620">ASSERT_RETURN</a>(Device.get_capture(&amp;capture))-&gt;Notify(LastError);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (<span class="keyword">auto</span> color = capture.get_color_image(); ColorStream-&gt;Active)</div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_define" href="de/dba/Error_8h.html#a41129ba2fdbe7b114501485451a06227">PROPAGATE_FAIL</a>(ColorStream-&gt;Push(color))-&gt;Notify(LastError);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (<span class="keyword">auto</span> depth = capture.get_depth_image(); DepthStream-&gt;Active)</div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_define" href="de/dba/Error_8h.html#a41129ba2fdbe7b114501485451a06227">PROPAGATE_FAIL</a>(DepthStream-&gt;Push(depth))-&gt;Notify(LastError);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (<span class="keyword">auto</span> ir = capture.get_ir_image(); IRStream-&gt;Active)</div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_define" href="de/dba/Error_8h.html#a41129ba2fdbe7b114501485451a06227">PROPAGATE_FAIL</a>(IRStream-&gt;Push(ir))-&gt;Notify(LastError);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">catch</span> (k4a::error <span class="keyword">const</span>&amp; exception)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> IError::Make(<span class="keyword">new</span> <a class="code hl_class" href="db/d63/classMcro_1_1Error_1_1TCppException.html">TCppException</a>(exception))</div>
<div class="line">            -&gt;AsFatal()-&gt;WithCppStackTrace()-&gt;WithLocation()</div>
<div class="line">            -&gt;Notify(LastError);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_function" href="dd/d58/namespaceMcro_1_1Error.html#a27d33ed2b445ca7310f71a30e9ad956f">Success</a>();</div>
<div class="line">}</div>
<div class="ttc" id="aCommon_8h_html"><div class="ttname"><a href="dc/d33/Common_8h.html">Common.h</a></div><div class="ttdoc">This header is a central include for all common utilities MCRO offers including higher level features...</div></div>
<div class="ttc" id="aError_8h_html_a41129ba2fdbe7b114501485451a06227"><div class="ttname"><a href="de/dba/Error_8h.html#a41129ba2fdbe7b114501485451a06227">PROPAGATE_FAIL</a></div><div class="ttdeci">#define PROPAGATE_FAIL(...)</div><div class="ttdoc">If a function returns a TMaybe or an FCanFail inside another function which may also return another e...</div><div class="ttdef"><b>Definition</b> <a href="de/dba/Error_8h_source.html#l00773">Error.h:773</a></div></div>
<div class="ttc" id="aError_8h_html_a529954a73801be667c2102e0500b2620"><div class="ttname"><a href="de/dba/Error_8h.html#a529954a73801be667c2102e0500b2620">ASSERT_RETURN</a></div><div class="ttdeci">#define ASSERT_RETURN(...)</div><div class="ttdoc">Similar to check() macro, but return an error instead of crashing.</div><div class="ttdef"><b>Definition</b> <a href="de/dba/Error_8h_source.html#l00734">Error.h:734</a></div></div>
<div class="ttc" id="aclassMcro_1_1Error_1_1TCppException_html"><div class="ttname"><a href="db/d63/classMcro_1_1Error_1_1TCppException.html">Mcro::Error::TCppException</a></div><div class="ttdoc">Use this template for catching STL exceptions to preserve the exception type name.</div><div class="ttdef"><b>Definition</b> <a href="d3/d35/CppException_8h_source.html#l00049">CppException.h:50</a></div></div>
<div class="ttc" id="anamespaceMcro_1_1Error_html_a27d33ed2b445ca7310f71a30e9ad956f"><div class="ttname"><a href="dd/d58/namespaceMcro_1_1Error.html#a27d33ed2b445ca7310f71a30e9ad956f">Mcro::Error::Success</a></div><div class="ttdeci">FORCEINLINE FCanFail Success()</div><div class="ttdoc">Return an FCanFail or FTrueOrReason indicating a success or truthy output.</div><div class="ttdef"><b>Definition</b> <a href="de/dba/Error_8h_source.html#l00684">Error.h:684</a></div></div>
<div class="ttc" id="astructMcro_1_1Error_1_1TMaybe_html"><div class="ttname"><a href="d2/d94/structMcro_1_1Error_1_1TMaybe.html">Mcro::Error::TMaybe</a></div><div class="ttdoc">A TValueOrError alternative for IError which allows implicit conversion from values and errors (no ne...</div><div class="ttdef"><b>Definition</b> <a href="de/dba/Error_8h_source.html#l00588">Error.h:589</a></div></div>
</div><!-- fragment --><details >
<summary >
Output log of an example test error</summary>
<p></p>
<div class="fragment"><div class="line">Display      LogTemp                   Type: Mcro::Test::FTestSimpleError</div>
<div class="line">Display      LogTemp                   Severity: Recoverable</div>
<div class="line">Display      LogTemp                   Message: |</div>
<div class="line">Display      LogTemp                     This is one test error</div>
<div class="line">Display      LogTemp                   Details: |</div>
<div class="line">Display      LogTemp                     Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Parturient maximus donec penatibus lectus non</div>
<div class="line">Display      LogTemp                     conubia amet condimentum. Tincidunt et iaculis efficitur integer, pulvinar phasellus. Mauris nisl</div>
<div class="line">Display      LogTemp                     parturient pharetra potenti aptent phasellus pharetra pellentesque. Leo aliquam vulputate pellentesque</div>
<div class="line">Display      LogTemp                     sapien gravida aptent facilisis tempus nec. Dolor aenean auctor penatibus iaculis dui justo integer</div>
<div class="line">Display      LogTemp                     porta. Sed vivamus porta sagittis nulla; sollicitudin class convallis mattis. Egestas lobortis nullam</div>
<div class="line">Display      LogTemp                     sed interdum ultricies donec.</div>
<div class="line">Display      LogTemp                   CodeContext: |</div>
<div class="line">Display      LogTemp                     D = A + B + C</div>
<div class="line">Display      LogTemp                   ErrorPropagation:</div>
<div class="line">Display      LogTemp                     - &quot;class TSharedRef&lt;class Mcro::Test::FTestSimpleError,1&gt; __cdecl CommonTestError(void) @ [...]\\Mcro\\Mcro_Yn\\Private\\Mcro\\Tests\\Error.Spec.cpp : 40&quot;</div>
<div class="line">Display      LogTemp                     - &quot;auto __cdecl FMcroError_Spec::Define::&lt;lambda_1&gt;::()::&lt;lambda_1&gt;::operator ()(void) const @ [...]\\Mcro\\Mcro_Yn\\Private\\Mcro\\Tests\\Error.Spec.cpp : 73&quot;</div>
<div class="line">Display      LogTemp                   InnerErrors:</div>
<div class="line">Display      LogTemp                     Appendix Foo: |</div>
<div class="line">Display      LogTemp                       Lorem ipsum</div>
<div class="line">Display      LogTemp                     Appendix Bar: |</div>
<div class="line">Display      LogTemp                       dolor sit amet consectetur</div>
<div class="line">Display      LogTemp                     Mcro::Error::FCppStackTrace: |</div>
<div class="line">Display      LogTemp                       0x000001adda3b8e69 UnrealEditor-Mcro_Yn-Win64-DebugGame.dll!CommonTestError() [[...]\Mcro\Mcro_Yn\Private\Mcro\Tests\Error.Spec.cpp:27]</div>
<div class="line">Display      LogTemp                       0x000001adda3b7763 UnrealEditor-Mcro_Yn-Win64-DebugGame.dll!``FMcroError_Spec::Define&#39;::`2&#39;::&lt;lambda_1&gt;::operator()&#39;::`2&#39;::&lt;lambda_1&gt;::operator()() [[...]\Mcro\Mcro_Yn\Private\Mcro\Tests\Error.Spec.cpp:60]</div>
<div class="line">Display      LogTemp                       0x000001adda3b881b UnrealEditor-Mcro_Yn-Win64-DebugGame.dll!UE::Core::Private::Function::TFunctionRefCaller&lt;``FMcroError_Spec::Define&#39;::`2&#39;::&lt;lambda_1&gt;::operator()&#39;::`2&#39;::&lt;lambda_1&gt;,void&gt;::Call() [D:\ue\UE_5.5\Engine\Source\Runtime\Core\Public\Templates\Function.h:321]</div>
<div class="line">Display      LogTemp                       0x000001adda393fd8 UnrealEditor-Mcro_Yn-Win64-DebugGame.dll!UE::Core::Private::Function::TFunctionRefBase&lt;UE::Core::Private::Function::TFunctionStorage&lt;0&gt;,void __cdecl(void)&gt;::operator()() [D:\ue\UE_5.5\Engine\Source\Runtime\Core\Public\Templates\Function.h:471]</div>
<div class="line">Display      LogTemp                       0x000001adda3a6264 UnrealEditor-Mcro_Yn-Win64-DebugGame.dll!FAutomationSpecBase::FSingleExecuteLatentCommand::Update() [D:\ue\UE_5.5\Engine\Source\Runtime\Core\Public\Misc\AutomationTest.h:2813]</div>
<div class="line">Display      LogTemp                       0x00007ffc4b815270 UnrealEditor-Core.dll!FAutomationTestFramework::ExecuteLatentCommands() [D:\build\++UE5\Sync\Engine\Source\Runtime\Core\Private\Misc\AutomationTest.cpp:626]</div>
<div class="line">Display      LogTemp                       0x000001ade2471393 UnrealEditor-AutomationWorker.dll!FAutomationWorkerModule::Tick() [D:\build\++UE5\Sync\Engine\Source\Runtime\AutomationWorker\Private\AutomationWorkerModule.cpp:69]</div>
<div class="line">Display      LogTemp                       0x00007ff6b7bc8118 UnrealEditor-Win64-DebugGame.exe!FEngineLoop::Tick() [D:\build\++UE5\Sync\Engine\Source\Runtime\Launch\Private\LaunchEngineLoop.cpp:6046]</div>
<div class="line">Display      LogTemp                       0x00007ff6b7be57ac UnrealEditor-Win64-DebugGame.exe!GuardedMain() [D:\build\++UE5\Sync\Engine\Source\Runtime\Launch\Private\Launch.cpp:188]</div>
<div class="line">Display      LogTemp                       0x00007ff6b7be589a UnrealEditor-Win64-DebugGame.exe!GuardedMainWrapper() [D:\build\++UE5\Sync\Engine\Source\Runtime\Launch\Private\Windows\LaunchWindows.cpp:123]</div>
<div class="line">Display      LogTemp                       0x00007ff6b7be9114 UnrealEditor-Win64-DebugGame.exe!LaunchWindowsStartup() [D:\build\++UE5\Sync\Engine\Source\Runtime\Launch\Private\Windows\LaunchWindows.cpp:277]</div>
<div class="line">Display      LogTemp                       0x00007ff6b7bfbd04 UnrealEditor-Win64-DebugGame.exe!WinMain() [D:\build\++UE5\Sync\Engine\Source\Runtime\Launch\Private\Windows\LaunchWindows.cpp:317]</div>
<div class="line">Display      LogTemp                       0x00007ff6b7bff0ca UnrealEditor-Win64-DebugGame.exe!__scrt_common_main_seh() [D:\a\_work\1\s\src\vctools\crt\vcstartup\src\startup\exe_common.inl:288]</div>
<div class="line">Display      LogTemp                       0x00007ffd072c259d KERNEL32.DLL!UnknownFunction []</div>
<div class="line">Display      LogTemp                       0x00007ffd0822af38 ntdll.dll!UnknownFunction []</div>
</div><!-- fragment --><p></p>
</details>
<details >
<summary >
When everything else fails we can display the error to the user</summary>
<p></p>
<div class="image">
<img src="IErrorDialog.jpg" alt=""/>
</div>
    <p></p>
</details>
<h2><a class="anchor" id="autotoc_md15"></a>
Text macros without parentheses</h2>
<div class="tabbed"></div><div class="tabbed"><ul>
<li>
<p class="startli"></p>
<p class="interli"><b class="tab-title">Without parentheses:</b></p>
<div class="fragment"><div class="line">FString myVar(<a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;Hello world!&quot;</span>);</div>
<div class="line">UE_LOG(LogTemp, Display, <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;%s&quot;</span>, *myVar);</div>
<div class="line"> </div>
<div class="line">          FText myText   = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a8e87be3484ebd811a74c494f6cc25ab3">INVTEXT_</a><span class="stringliteral">&quot;Even FText macros are there&quot;</span>;        <span class="comment">// -&gt; FText</span></div>
<div class="line">          <span class="keyword">auto</span>  myString = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#afbc96d02c293288be9eb3c4c2233f381">STRING_</a><span class="stringliteral">&quot;Typed literals&quot;</span>;                      <span class="comment">// -&gt; FString</span></div>
<div class="line">          <span class="keyword">auto</span>  myName   = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a8669c850f529b43efdd361449e6476f1">NAME_</a><span class="stringliteral">&quot;FName string literals&quot;</span>;                 <span class="comment">// -&gt; FName</span></div>
<div class="line"><span class="keyword">constexpr</span> <span class="keyword">auto</span>  myView   = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#acdf73c2b2eed4786f9893545ecaef26f">TEXTVIEW_</a><span class="stringliteral">&quot;String view created in constexpr&quot;</span>;  <span class="comment">// -&gt; FStringView</span></div>
<div class="line"><span class="keyword">constexpr</span> <span class="keyword">auto</span>  stdView  = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#aba05a1e4a20eb8bd2cdbdfb7dddb52a3">STDVIEW_</a><span class="stringliteral">&quot;TCHAR dependent STL string literal&quot;</span>; <span class="comment">// -&gt; std::[w]string_view</span></div>
<div class="ttc" id="aTextMacros_8h_html_a8669c850f529b43efdd361449e6476f1"><div class="ttname"><a href="d9/dde/TextMacros_8h.html#a8669c850f529b43efdd361449e6476f1">NAME_</a></div><div class="ttdeci">#define NAME_</div><div class="ttdoc">A convenience macro to allocate an FName directly.</div><div class="ttdef"><b>Definition</b> <a href="d9/dde/TextMacros_8h_source.html#l00229">TextMacros.h:229</a></div></div>
<div class="ttc" id="aTextMacros_8h_html_a8e87be3484ebd811a74c494f6cc25ab3"><div class="ttname"><a href="d9/dde/TextMacros_8h.html#a8e87be3484ebd811a74c494f6cc25ab3">INVTEXT_</a></div><div class="ttdeci">#define INVTEXT_</div><div class="ttdoc">A convenience alternative to Unreal's own INVTEXT macro but this one doesn't require parenthesis arou...</div><div class="ttdef"><b>Definition</b> <a href="d9/dde/TextMacros_8h_source.html#l00190">TextMacros.h:190</a></div></div>
<div class="ttc" id="aTextMacros_8h_html_a9e3bd2dc94862c806215d1f46d9d7657"><div class="ttname"><a href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a></div><div class="ttdeci">#define TEXT_</div><div class="ttdoc">A convenience alternative to Unreal's own TEXT macro but this one doesn't require parenthesis around ...</div><div class="ttdef"><b>Definition</b> <a href="d9/dde/TextMacros_8h_source.html#l00051">TextMacros.h:51</a></div></div>
<div class="ttc" id="aTextMacros_8h_html_aba05a1e4a20eb8bd2cdbdfb7dddb52a3"><div class="ttname"><a href="d9/dde/TextMacros_8h.html#aba05a1e4a20eb8bd2cdbdfb7dddb52a3">STDVIEW_</a></div><div class="ttdeci">#define STDVIEW_</div><div class="ttdoc">A convenience alternative to Unreal's own TEXTVIEW macro but this one doesn't require parenthesis aro...</div><div class="ttdef"><b>Definition</b> <a href="d9/dde/TextMacros_8h_source.html#l00211">TextMacros.h:211</a></div></div>
<div class="ttc" id="aTextMacros_8h_html_acdf73c2b2eed4786f9893545ecaef26f"><div class="ttname"><a href="d9/dde/TextMacros_8h.html#acdf73c2b2eed4786f9893545ecaef26f">TEXTVIEW_</a></div><div class="ttdeci">#define TEXTVIEW_</div><div class="ttdoc">A convenience alternative to Unreal's own TEXTVIEW macro but this one doesn't require parenthesis aro...</div><div class="ttdef"><b>Definition</b> <a href="d9/dde/TextMacros_8h_source.html#l00201">TextMacros.h:201</a></div></div>
<div class="ttc" id="aTextMacros_8h_html_afbc96d02c293288be9eb3c4c2233f381"><div class="ttname"><a href="d9/dde/TextMacros_8h.html#afbc96d02c293288be9eb3c4c2233f381">STRING_</a></div><div class="ttdeci">#define STRING_</div><div class="ttdoc">A convenience macro to allocate an FString directly.</div><div class="ttdef"><b>Definition</b> <a href="d9/dde/TextMacros_8h_source.html#l00220">TextMacros.h:220</a></div></div>
</div><!-- fragment --><p class="interli"></p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><b class="tab-title">Vanilla:</b></p>
<div class="fragment"><div class="line">FString myVar(TEXT(<span class="stringliteral">&quot;Hello world!&quot;</span>));</div>
<div class="line">UE_LOG(LogTemp, Display, TEXT(<span class="stringliteral">&quot;%s&quot;</span>), *myVar);</div>
<div class="line"> </div>
<div class="line">          FText   myText = INVTEXT(<span class="stringliteral">&quot;Even FText macros are there&quot;</span>);</div>
<div class="line">          FString myString(TEXT(<span class="stringliteral">&quot;Typed literals&quot;</span>));</div>
<div class="line">          FName   myName  (TEXT(<span class="stringliteral">&quot;FName string literals&quot;</span>));</div>
<div class="line"><span class="keyword">constexpr</span> <span class="keyword">auto</span>    myView = TEXTVIEW(<span class="stringliteral">&quot;String view created in constexpr&quot;</span>); <span class="comment">// -&gt; FStringView</span></div>
<div class="line"><span class="comment">// there are no vanilla utilities for cross-TCHAR STL string handling</span></div>
</div><!-- fragment --><p class="interli"></p>
<p class="endli"></p>
</li>
</ul>
</div><div class="tabbed"></div><p>One of the oldest eye-sores I have with Unreal Engine source code is the <code>TEXT()</code> macro, especially the extra pair of parentheses it requires around string literals. Unfortunately it is impossible to achieve the same goal without any preprocessor, that would be ideal, but one can exploit C++ string literal concatenation rules for simple <code>TCHAR</code> strings, or operator overloads for <code>FText</code> or <code>FName</code>.</p>
<p>The earlier was even a suggestion of Microsoft <a href="https://learn.microsoft.com/en-us/cpp/preprocessor/preprocessor-experimental-overview?view=msvc-170#lval">when they announced their standard compliant new preprocessor</a>, and asked the general public to stop exploiting the behaviors of the old one.</p>
<p>In code these macros are referred to as fake text/string literals.</p>
<h2><a class="anchor" id="autotoc_md16"></a>
String formatting literals</h2>
<p>There are two groups of macros to express string formatting/interpolation with a "nice" syntax. These are also fake text literals but they can be both leading or trailing after the double quoted text.</p>
<p>Wrapper around <code>FString::Printf</code>:</p>
<div class="tabbed"></div><div class="tabbed"><ul>
<li>
<p class="startli"></p>
<p class="interli"><b class="tab-title">MCRO trailing:</b></p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> type = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a8669c850f529b43efdd361449e6476f1">NAME_</a><span class="stringliteral">&quot;Foo&quot;</span>; <span class="keyword">auto</span> comment = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#afbc96d02c293288be9eb3c4c2233f381">STRING_</a><span class="stringliteral">&quot;Hello!&quot;</span>; int32 count = 42;</div>
<div class="line"> </div>
<div class="line">FString printf = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;Given %s with comment &#39;%s&#39; and count %d&quot;</span> <a class="code hl_define" href="d9/dde/TextMacros_8h.html#ad33429682dabff3fd90527fb341d1396">_PRINTF</a>(</div>
<div class="line">    *type.ToString(),</div>
<div class="line">    *comment,</div>
<div class="line">    count</div>
<div class="line">);</div>
<div class="line"><span class="comment">// -&gt; &quot;Given Foo with comment &#39;Hello!&#39; and count 42&quot;</span></div>
<div class="ttc" id="aTextMacros_8h_html_ad33429682dabff3fd90527fb341d1396"><div class="ttname"><a href="d9/dde/TextMacros_8h.html#ad33429682dabff3fd90527fb341d1396">_PRINTF</a></div><div class="ttdeci">#define _PRINTF(...)</div><div class="ttdoc">Trailing fake text literal which shortens down the FString::Printf(TEXT(&quot;...&quot;), .....</div><div class="ttdef"><b>Definition</b> <a href="d9/dde/TextMacros_8h_source.html#l00245">TextMacros.h:245</a></div></div>
</div><!-- fragment --><p class="interli">As a personal opinion this is more readable in majority of cases or with multiple lines, but beauty is in the eye of the beholder.</p>
<p class="interli"></p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><b class="tab-title">Vanilla:</b></p>
<div class="fragment"><div class="line">FName type(TEXT(<span class="stringliteral">&quot;Foo&quot;</span>)); FString comment(TEXT(<span class="stringliteral">&quot;Hello!&quot;</span>)); int32 count = 42;</div>
<div class="line"> </div>
<div class="line">FString printf = FString::Printf(TEXT(<span class="stringliteral">&quot;Given %s with comment &#39;%s&#39; and count %d&quot;</span>),</div>
<div class="line">    *type.ToString(),</div>
<div class="line">    *comment,</div>
<div class="line">    count</div>
<div class="line">);</div>
<div class="line"><span class="comment">// -&gt; &quot;Given Foo with comment &#39;Hello!&#39; and count 42&quot;</span></div>
</div><!-- fragment --><p class="interli"></p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><b class="tab-title">MCRO leading:</b></p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> type = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a8669c850f529b43efdd361449e6476f1">NAME_</a><span class="stringliteral">&quot;Foo&quot;</span>; <span class="keyword">auto</span> comment = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#afbc96d02c293288be9eb3c4c2233f381">STRING_</a><span class="stringliteral">&quot;Hello!&quot;</span>; int32 count = 42;</div>
<div class="line"> </div>
<div class="line">FString printf = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9f5256e5a5f2fe8f881946fbb3e2de0a">PRINTF_</a>(*type.ToString(), *comment, count)</div>
<div class="line">    <span class="stringliteral">&quot;Given %s with comment &#39;%s&#39; and count %d&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// -&gt; &quot;Given Foo with comment &#39;Hello!&#39; and count 42&quot;</span></div>
<div class="ttc" id="aTextMacros_8h_html_a9f5256e5a5f2fe8f881946fbb3e2de0a"><div class="ttname"><a href="d9/dde/TextMacros_8h.html#a9f5256e5a5f2fe8f881946fbb3e2de0a">PRINTF_</a></div><div class="ttdeci">#define PRINTF_(...)</div><div class="ttdoc">Leading fake text literal which shortens down the FString::Printf(TEXT(&quot;...&quot;), ......</div><div class="ttdef"><b>Definition</b> <a href="d9/dde/TextMacros_8h_source.html#l00261">TextMacros.h:261</a></div></div>
</div><!-- fragment --><p class="interli">As a personal opinion this is only readable when there's a simple text and maximum of two arguments, but beauty is in the eye of the beholder.</p>
<p class="interli"></p>
<p class="endli"></p>
</li>
</ul>
</div><div class="tabbed"></div><p>But for more modern and more automatic text conversion there's also a wrapper around <code>FString::Format</code>, but it can handle much more types automatically than <code>FString::Format</code>.</p>
<p>With ordered arguments:</p>
<div class="tabbed"></div><div class="tabbed"><ul>
<li>
<p class="startli"></p>
<p class="interli"><b class="tab-title">MCRO trailing:</b></p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> type = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a8669c850f529b43efdd361449e6476f1">NAME_</a><span class="stringliteral">&quot;Foo&quot;</span>; <span class="keyword">auto</span> comment = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a8e87be3484ebd811a74c494f6cc25ab3">INVTEXT_</a><span class="stringliteral">&quot;Hello!&quot;</span>; int32 count = 42; EPixelFormat format = PF_Unknown;</div>
<div class="line"> </div>
<div class="line">FString fmt = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;Given {0} with comment &#39;{1}&#39; and count {2} with format {3}&quot;</span> <a class="code hl_define" href="d2/d0e/FmtMacros_8h.html#a11cb71712b6c3b9778201d17c14e6f9f">_FMT</a>(</div>
<div class="line">    type, comment, count, format</div>
<div class="line">);</div>
<div class="line"><span class="comment">// -&gt; &quot;Given Foo with comment &#39;Hello!&#39; and count 42 with format PF_Unknown&quot;</span></div>
<div class="line"><span class="comment">//                                                              ^ works with any undecorated enum type</span></div>
<div class="line"><span class="comment">//                                                                no need to be UENUM</span></div>
<div class="ttc" id="aFmtMacros_8h_html_a11cb71712b6c3b9778201d17c14e6f9f"><div class="ttname"><a href="d2/d0e/FmtMacros_8h.html#a11cb71712b6c3b9778201d17c14e6f9f">_FMT</a></div><div class="ttdeci">#define _FMT(...)</div><div class="ttdoc">Trailing fake text literal which makes using FString::Format(...); much more comfortable.</div><div class="ttdef"><b>Definition</b> <a href="d2/d0e/FmtMacros_8h_source.html#l00208">FmtMacros.h:208</a></div></div>
</div><!-- fragment --><p class="interli">As a personal opinion this is more readable in majority of cases or with multiple lines, but beauty is in the eye of the beholder.</p>
<p class="interli"></p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><b class="tab-title">Vanilla:</b></p>
<div class="fragment"><div class="line">FName type(TEXT(<span class="stringliteral">&quot;Foo&quot;</span>)); FText comment = INVTEXT(<span class="stringliteral">&quot;Hello!&quot;</span>); int32 count = 42; <span class="comment">// enums aren&#39;t supported at all</span></div>
<div class="line"> </div>
<div class="line">FStringFormatOrderedArguments fmtArgs;</div>
<div class="line">fmtArgs.Add(type.ToString());</div>
<div class="line">fmtArgs.Add(comment.ToString());</div>
<div class="line">fmtArgs.Add(count);</div>
<div class="line">FString printf = FString::Format(TEXT(<span class="stringliteral">&quot;Given {0} with comment &#39;{1}&#39; and count {2}&quot;</span>), fmtArgs);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// -&gt; &quot;Given Foo with comment &#39;Hello!&#39; and count 42&quot;</span></div>
<div class="line"><span class="comment">// enums aren&#39;t supported at all</span></div>
</div><!-- fragment --><p class="interli"></p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><b class="tab-title">MCRO leading:</b></p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> type = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a8669c850f529b43efdd361449e6476f1">NAME_</a><span class="stringliteral">&quot;Foo&quot;</span>; <span class="keyword">auto</span> comment = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a8e87be3484ebd811a74c494f6cc25ab3">INVTEXT_</a><span class="stringliteral">&quot;Hello!&quot;</span>; int32 count = 42; EPixelFormat format = PF_Unknown;</div>
<div class="line"> </div>
<div class="line">FString fmt = <a class="code hl_define" href="d2/d0e/FmtMacros_8h.html#ad2ae177448b123d74e4182bc4469fb74">FMT_</a> (type, comment, count, format)</div>
<div class="line">    <span class="stringliteral">&quot;Given {0} with comment &#39;{1}&#39; and count {2} with format {3}&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// -&gt; &quot;Given Foo with comment &#39;Hello!&#39; and count 42 with format PF_Unknown&quot;</span></div>
<div class="line"><span class="comment">//                                                              ^ works with any undecorated enum type</span></div>
<div class="line"><span class="comment">//                                                                no need to be UENUM</span></div>
<div class="ttc" id="aFmtMacros_8h_html_ad2ae177448b123d74e4182bc4469fb74"><div class="ttname"><a href="d2/d0e/FmtMacros_8h.html#ad2ae177448b123d74e4182bc4469fb74">FMT_</a></div><div class="ttdeci">#define FMT_(...)</div><div class="ttdoc">Leading fake text literal which makes using FString::Format(...); much more comfortable.</div><div class="ttdef"><b>Definition</b> <a href="d2/d0e/FmtMacros_8h_source.html#l00154">FmtMacros.h:154</a></div></div>
</div><!-- fragment --><p class="interli">As a personal opinion this is only readable when there's a simple text and maximum of two arguments, but beauty is in the eye of the beholder.</p>
<p class="interli"></p>
<p class="endli"></p>
</li>
</ul>
</div><div class="tabbed"></div><p>With named arguments:</p>
<div class="tabbed"></div><div class="tabbed"><ul>
<li>
<p class="startli"></p>
<p class="interli"><b class="tab-title">MCRO trailing:</b></p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> type = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a8669c850f529b43efdd361449e6476f1">NAME_</a><span class="stringliteral">&quot;Foo&quot;</span>; <span class="keyword">auto</span> comment = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a8e87be3484ebd811a74c494f6cc25ab3">INVTEXT_</a><span class="stringliteral">&quot;Hello!&quot;</span>; int32 count = 42; EPixelFormat format = PF_Unknown;</div>
<div class="line"> </div>
<div class="line">FString fmt = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;Given {Type} with comment &#39;{Comment}&#39; and count {Count} with format {Format}&quot;</span> <a class="code hl_define" href="d2/d0e/FmtMacros_8h.html#a11cb71712b6c3b9778201d17c14e6f9f">_FMT</a>(</div>
<div class="line">    (Type,    type)</div>
<div class="line">    (Comment, comment)</div>
<div class="line">    (Count,   count)</div>
<div class="line">    (Format,  format)</div>
<div class="line">);</div>
<div class="line"><span class="comment">// -&gt; &quot;Given Foo with comment &#39;Hello!&#39; and count 42 with format PF_Unknown&quot;</span></div>
<div class="line"><span class="comment">//                                                              ^ works with any undecorated enum type</span></div>
<div class="line"><span class="comment">//                                                                no need to be UENUM</span></div>
</div><!-- fragment --><p class="interli">As a personal opinion this is more readable in majority of cases or with multiple lines, but beauty is in the eye of the beholder.</p>
<p class="interli"></p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><b class="tab-title">Vanilla:</b></p>
<div class="fragment"><div class="line">FName type(TEXT(<span class="stringliteral">&quot;Foo&quot;</span>)); FText comment = INVTEXT(<span class="stringliteral">&quot;Hello!&quot;</span>); int32 count = 42; <span class="comment">// enums aren&#39;t supported at all</span></div>
<div class="line"> </div>
<div class="line">FStringFormatNamedArguments fmtArgs;</div>
<div class="line">fmtArgs.Add(TEXT(<span class="stringliteral">&quot;Type&quot;</span>),    type.ToString());</div>
<div class="line">fmtArgs.Add(TEXT(<span class="stringliteral">&quot;Comment&quot;</span>), comment.ToString());</div>
<div class="line">fmtArgs.Add(TEXT(<span class="stringliteral">&quot;Count&quot;</span>),   count);</div>
<div class="line">FString printf = FString::Format(TEXT(<span class="stringliteral">&quot;Given {0} with comment &#39;{1}&#39; and count {2}&quot;</span>), fmtArgs);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// -&gt; &quot;Given Foo with comment &#39;Hello!&#39; and count 42&quot;</span></div>
<div class="line"><span class="comment">// enums aren&#39;t supported at all</span></div>
</div><!-- fragment --><p class="interli"></p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><b class="tab-title">MCRO leading:</b></p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> type = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a8669c850f529b43efdd361449e6476f1">NAME_</a><span class="stringliteral">&quot;Foo&quot;</span>; <span class="keyword">auto</span> comment = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a8e87be3484ebd811a74c494f6cc25ab3">INVTEXT_</a><span class="stringliteral">&quot;Hello!&quot;</span>; int32 count = 42; EPixelFormat format = PF_Unknown;</div>
<div class="line"> </div>
<div class="line">FString fmt = <a class="code hl_define" href="d2/d0e/FmtMacros_8h.html#ad2ae177448b123d74e4182bc4469fb74">FMT_</a>((Type, type) (Comment, comment) (Count, count) (Format, format))</div>
<div class="line">    <span class="stringliteral">&quot;Given {Type} with comment &#39;{Comment}&#39; and count {Count} with format {Format}&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// -&gt; &quot;Given Foo with comment &#39;Hello!&#39; and count 42 with format PF_Unknown&quot;</span></div>
<div class="line"><span class="comment">//                                                              ^ works with any undecorated enum type</span></div>
<div class="line"><span class="comment">//                                                                no need to be UENUM</span></div>
</div><!-- fragment --><p class="interli">As a personal opinion this is very rarely more readable than the trailing counterpart, but beauty is in the eye of the beholder.</p>
<p class="interli"></p>
<p class="endli"></p>
</li>
</ul>
</div><div class="tabbed"></div><p>Notice how <code>FMT</code> macros decide named vs. ordered arguments based on the argument listing syntax alone, and the developer doesn't have to type out if they want named or ordered formatting.</p>
<h3><a class="anchor" id="autotoc_md17"></a>
Ranges as strings</h3>
<p>But wait there's more, remember ranges? They can be automatically converted to string as well:</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span>ranges;</div>
<div class="line"><span class="keyword">enum class</span> EFoo { Foo, Bar, Wee, Yo };</div>
<div class="line"> </div>
<div class="line">TArray&lt;EFoo&gt; array = MyEnumList(); <span class="comment">// imagine this function just lists all the entries in EFoo</span></div>
<div class="line"> </div>
<div class="line">FString result = array | RenderAsString();</div>
<div class="line"><span class="comment">// -&gt; &quot;[Foo, Bar, Wee, Yo]&quot;</span></div>
<div class="line"> </div>
<div class="line">FString enumsA = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;A list of enums: {0}&quot;</span> <a class="code hl_define" href="d2/d0e/FmtMacros_8h.html#a11cb71712b6c3b9778201d17c14e6f9f">_FMT</a>(array);</div>
<div class="line"><span class="comment">// -&gt; &quot;A list of enums: [Foo, Bar, Wee, Yo]&quot;</span></div>
<div class="line"> </div>
<div class="line">FString enumsB = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;Don&#39;t like commas? No problem: {0}&quot;</span> <a class="code hl_define" href="d2/d0e/FmtMacros_8h.html#a11cb71712b6c3b9778201d17c14e6f9f">_FMT</a>(</div>
<div class="line">    array | views::take(2) | Separator(<a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot; and &quot;</span>)</div>
<div class="line">);</div>
<div class="line"><span class="comment">// -&gt; &quot;Don&#39;t like commas? No problem: [Foo and Bar]&quot;</span></div>
<div class="line"> </div>
<div class="line">FString enumsB = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;Don&#39;t like square brackets either? {0}&quot;</span> <a class="code hl_define" href="d2/d0e/FmtMacros_8h.html#a11cb71712b6c3b9778201d17c14e6f9f">_FMT</a>(</div>
<div class="line">    array | views::take(2) | Separator(<a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot; and &quot;</span>) | Enclosure(<a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;&lt;&quot;</span>, <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;&gt;&quot;</span>)</div>
<div class="line">);</div>
<div class="line"><span class="comment">// -&gt; &quot;Don&#39;t like square brackets either? &lt;Foo and Bar&gt;&quot;</span></div>
<div class="line"> </div>
<div class="line">FString enumsC = <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;Or just glued together: {0}&quot;</span> <a class="code hl_define" href="d2/d0e/FmtMacros_8h.html#a11cb71712b6c3b9778201d17c14e6f9f">_FMT</a>(</div>
<div class="line">    array | views::take(2) | NoDecorators()</div>
<div class="line">);</div>
<div class="line"><span class="comment">// -&gt; &quot;Or just glued together: FooBar&quot;</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md18"></a>
Delegate type inference</h2>
<p>In <code><a class="el" href="d0/dec/namespaceMcro_1_1Delegates.html">Mcro::Delegates</a></code> namespace there's a bunch of overloads of <code>From</code> function which can infer a delegate type and its intended binding only based on its input arguments. It means a couple of things:</p>
<ol type="1">
<li>The potentially lengthy delegate types are no longer needed to be repeated.</li>
<li>Creating an alias for each (multicast) delegate is no longer a must have.</li>
</ol>
<p>For example given an imaginary type with a terrible API for some reason</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>FObservable</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">using </span>FOnStateResetTheFirstTimeEvent = TMulticastDelegate&lt;void(FObservable <span class="keyword">const</span>&amp;)&gt;;</div>
<div class="line">    FOnStateResetTheFirstTimeEvent OnStateResetTheFirstTimeEvent;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">using </span>FDefaultInitializerDelegate = TDelegate&lt;FString(FObservable <span class="keyword">const</span>&amp;)&gt;;</div>
<div class="line">    <span class="keywordtype">void</span> SetDefaultInitializer(FDefaultInitializerDelegate <span class="keyword">const</span>&amp; defaultInit)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// etc ...</span></div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// etc...</span></div>
<div class="line">}</div>
</div><!-- fragment --><div class="tabbed"></div><div class="tabbed"><ul>
<li>
<p class="startli"></p>
<p class="interli"><b class="tab-title">MCRO:</b></p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="dc/d33/Common_8h.html">Mcro/Common.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>FListener : TSharedFromThis&lt;FListener&gt;</div>
<div class="line">{</div>
<div class="line">    TMulticastDelegate&lt;void(FObservable <span class="keyword">const</span>&amp;)&gt; PropagateEvent;</div>
<div class="line">    <span class="keywordtype">void</span> OnFirstStateReset(FObservable <span class="keyword">const</span>&amp; observable, FStringView capturedData);</div>
<div class="line">    <span class="keywordtype">void</span> BindTo(FObservable&amp; observable)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">using namespace </span><a class="code hl_namespace" href="d6/dd2/namespaceMcro_1_1Delegates_1_1InferDelegate.html">Mcro::Delegates::InferDelegate</a>;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Repeating the delegate type on call site is not necessary</span></div>
<div class="line">        observable.SetDefaultInitializer(From(<span class="keyword">this</span>, [<span class="keyword">this</span>](FObservable <span class="keyword">const</span>&amp;) -&gt; FString</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;Some default value&quot;</span>;</div>
<div class="line">        }));</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Chaining events like this is a single line</span></div>
<div class="line">        observable.OnStateResetTheFirstTimeEvent.Add(From(<span class="keyword">this</span>, PropagateEvent));</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Captured extra arguments are still supported and deduced correctly</span></div>
<div class="line">        <span class="keyword">auto</span> firstReset = From(<span class="keyword">this</span>, &amp;FListener::OnFirstStateReset, <a class="code hl_define" href="d9/dde/TextMacros_8h.html#acdf73c2b2eed4786f9893545ecaef26f">TEXTVIEW_</a><span class="stringliteral">&quot;capture&quot;</span>);</div>
<div class="line">        observable.OnStateResetTheFirstTimeEvent.Add(firstReset);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="anamespaceMcro_1_1Delegates_1_1InferDelegate_html"><div class="ttname"><a href="d6/dd2/namespaceMcro_1_1Delegates_1_1InferDelegate.html">Mcro::Delegates::InferDelegate</a></div><div class="ttdoc">The extra layer of namespace InferDelegate is there for guarding common vocabulary (From) but still a...</div><div class="ttdef"><b>Definition</b> <a href="d4/dbf/DelegateFrom_8h_source.html#l00042">DelegateFrom.h:43</a></div></div>
</div><!-- fragment --><p class="interli"></p>
<p class="endli"></p>
</li>
<li>
<p class="startli"></p>
<p class="interli"><b class="tab-title">Vanilla:</b></p>
<div class="fragment"><div class="line"><span class="comment">//</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>FListener : TSharedFromThis&lt;FListener&gt;</div>
<div class="line">{</div>
<div class="line">    TMulticastDelegate&lt;void(FObservable <span class="keyword">const</span>&amp;)&gt; PropagateEvent;</div>
<div class="line">    <span class="keywordtype">void</span> OnFirstStateReset(FObservable <span class="keyword">const</span>&amp; observable, FStringView capturedData);</div>
<div class="line">    <span class="keywordtype">void</span> BindTo(FObservable&amp; observable)</div>
<div class="line">    {</div>
<div class="line">    </div>
<div class="line">    </div>
<div class="line">        <span class="comment">// Delegate API in these situations is pretty verbose</span></div>
<div class="line">        observable.SetDefaultInitializer(FDefaultInitializerDelegate::CreateSPLambda(<span class="keyword">this</span>, [<span class="keyword">this</span>](FObservable <span class="keyword">const</span>&amp;) -&gt; FString</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> TEXT(<span class="stringliteral">&quot;Some default value&quot;</span>);</div>
<div class="line">        }));</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Chaining events is a new Feature introduced with From</span></div>
<div class="line">        observable.OnStateResetTheFirstTimeEvent.AddSPLambda(<span class="keyword">this</span>, [<span class="keyword">this</span>](FObservable <span class="keyword">const</span>&amp; observableArg)</div>
<div class="line">        {</div>
<div class="line">            PropagateEvent.Broadcast(observableArg);</div>
<div class="line">        });</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// As that&#39;s a given with vanilla multicast delegate API as well</span></div>
<div class="line">        observable.OnStateResetTheFirstTimeEvent.AddSP(<span class="keyword">this</span>, &amp;FListener::OnFirstStateReset, TEXTVIEW(<span class="stringliteral">&quot;capture&quot;</span>));</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p class="interli"></p>
<p class="endli"></p>
</li>
</ul>
</div><div class="tabbed"></div><p>There's also a dynamic / native (multicast) delegate interop including similar chaining demonstrated here.</p>
<h2><a class="anchor" id="autotoc_md19"></a>
Advanced TEventDelegate</h2>
<p>Did your thing ever load after an event which your thing depends on, but now you have to somehow detect that the event has already happened and you have to execute your thing manually? With <code><a class="el" href="d4/d51/classMcro_1_1Delegates_1_1TEventDelegate.html" title="&quot;Extension&quot; of a common TMulticastDelegate. It allows to define optional &quot;flags&quot; when adding a bindin...">Mcro::Delegates::TEventDelegate</a></code> this situation has a lot less friction:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="dc/d33/Common_8h.html">Mcro/Common.h</a>&quot;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="da/da9/namespaceMcro_1_1Common_1_1With_1_1InferDelegate.html">Mcro::Common::With::InferDelegate</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// TBelatedEventDelegate is an alias for TEventDelegate&lt;Signature, {.Belated = true}&gt;</span></div>
<div class="line"><a class="code hl_class" href="d4/d51/classMcro_1_1Delegates_1_1TEventDelegate.html">TBelatedEventDelegate</a>&lt;void(<span class="keywordtype">int</span>)&gt; SomeEvent;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Broadcast first</span></div>
<div class="line">SomeEvent.Broadcast(42);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Late subscribers will not be left behind</span></div>
<div class="line">SomeEvent.Add(From([](<span class="keywordtype">int</span> value)</div>
<div class="line">{</div>
<div class="line">    UE_LOG(LogTemp, Display, <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;The last argument this event broadcasted with: %d&quot;</span>, value);</div>
<div class="line">}));</div>
<div class="line"><span class="comment">// -&gt; The last argument this event broadcasted with: 42</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// This event doesn&#39;t have this behavior set by default</span></div>
<div class="line"><a class="code hl_class" href="d4/d51/classMcro_1_1Delegates_1_1TEventDelegate.html">TEventDelegate</a>&lt;void(<span class="keywordtype">int</span>)&gt; SomeOtherEvent;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Broadcast first</span></div>
<div class="line">SomeOtherEvent.Broadcast(1337);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Late subscribers still can explicitly ask to be notified</span></div>
<div class="line">SomeOtherEvent.Add(</div>
<div class="line">    From([](<span class="keywordtype">int</span> value)</div>
<div class="line">    {</div>
<div class="line">        UE_LOG(LogTemp, Display, <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;The last argument this event broadcasted with: %d&quot;</span>, value);</div>
<div class="line">    }),</div>
<div class="line">    {.Belated = <span class="keyword">true</span>}</div>
<div class="line">);</div>
<div class="line"><span class="comment">// -&gt; The last argument this event broadcasted with: 1337</span></div>
<div class="ttc" id="aclassMcro_1_1Delegates_1_1TEventDelegate_html"><div class="ttname"><a href="d4/d51/classMcro_1_1Delegates_1_1TEventDelegate.html">Mcro::Delegates::TEventDelegate</a></div><div class="ttdoc">&quot;Extension&quot; of a common TMulticastDelegate. It allows to define optional &quot;flags&quot; when adding a bindin...</div><div class="ttdef"><b>Definition</b> <a href="df/d51/EventDelegate_8h_source.html#l00102">EventDelegate.h:102</a></div></div>
<div class="ttc" id="anamespaceMcro_1_1Common_1_1With_1_1InferDelegate_html"><div class="ttname"><a href="da/da9/namespaceMcro_1_1Common_1_1With_1_1InferDelegate.html">Mcro::Common::With::InferDelegate</a></div><div class="ttdoc">The extra layer of namespace InferDelegate is there for guarding common vocabulary (From) but still a...</div><div class="ttdef"><b>Definition</b> <a href="dc/d33/Common_8h_source.html#l00066">Common.h:66</a></div></div>
</div><!-- fragment --><p>Or your thing only needs to do its tasks on the first time a frequently invoked event is triggered?</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="dc/d33/Common_8h.html">Mcro/Common.h</a>&quot;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="da/da9/namespaceMcro_1_1Common_1_1With_1_1InferDelegate.html">Mcro::Common::With::InferDelegate</a>;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="d4/d51/classMcro_1_1Delegates_1_1TEventDelegate.html">TEventDelegate</a>&lt;void(<span class="keywordtype">int</span>)&gt; SomeFrequentEvent;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// This function should only be called the first time after its binding</span></div>
<div class="line">SomeFrequentEvent.Add(</div>
<div class="line">    From([](<span class="keywordtype">int</span> value)</div>
<div class="line">    {</div>
<div class="line">        UE_LOG(LogTemp, Display, <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;This value is printed only once: %d&quot;</span>, value);</div>
<div class="line">    }),</div>
<div class="line">    {.Once = <span class="keyword">true</span>}</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line">SomeFrequentEvent.Broadcast(1);</div>
<div class="line"><span class="comment">// -&gt; This value is printed only once: 1</span></div>
<div class="line">SomeFrequentEvent.Broadcast(2);</div>
<div class="line"><span class="comment">// (nothing is executed here)</span></div>
</div><!-- fragment --><p>Chaining events?</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="dc/d33/Common_8h.html">Mcro/Common.h</a>&quot;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="da/da9/namespaceMcro_1_1Common_1_1With_1_1InferDelegate.html">Mcro::Common::With::InferDelegate</a>;</div>
<div class="line"> </div>
<div class="line">TMulticastDelegate&lt;void(<span class="keywordtype">int</span>)&gt; LowerLevelEvent;</div>
<div class="line"><a class="code hl_class" href="d4/d51/classMcro_1_1Delegates_1_1TEventDelegate.html">TEventDelegate</a>&lt;void(<span class="keywordtype">int</span>)&gt; HigherLevelEvent;</div>
<div class="line"> </div>
<div class="line">HigherLevelEvent.Add(From([](<span class="keywordtype">int</span> value)</div>
<div class="line">{</div>
<div class="line">    UE_LOG(LogTemp, Display, <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;Value: %d&quot;</span>, value);</div>
<div class="line">}));</div>
<div class="line">LowerLevelEvent.Add(HigherLevelEvent.Delegation(<span class="keyword">this</span> <span class="comment">/* optionally bind an object */</span>));</div>
<div class="line"> </div>
<div class="line">LoverLevelEvent.Broadcast(42);</div>
<div class="line"><span class="comment">// -&gt; Value: 42</span></div>
</div><!-- fragment --><p>Of course the above chaining can be combined with belated~ or one-time invocations.</p>
<h2><a class="anchor" id="autotoc_md20"></a>
TTypeName</h2>
<p>C++ 20 can do string manipulation in compile time, <a href="https://github.com/hanickadot/compile-time-regular-expressions">including regex</a>. With that, compiler specific "pretty function" macros become a key tool for simple static reflection. Based on that MCRO has <code>TTypeName</code></p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="da/db5/CommonCore_8h.html">Mcro/CommonCore.h</a>&quot;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="d4/df4/namespaceMcro_1_1Common.html">Mcro::Common</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>FMyType</div>
<div class="line">{</div>
<div class="line">    FStringView GetTypeString() { <span class="keywordflow">return</span> TTypeName&lt;FMyType&gt;; } <span class="comment">// -&gt; &quot;FMyType&quot; as view</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>even better with C++ 23 deducing this</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="da/db5/CommonCore_8h.html">Mcro/CommonCore.h</a>&quot;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="d4/df4/namespaceMcro_1_1Common.html">Mcro::Common</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>FMyBaseType</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Self&gt;</div>
<div class="line">    FString GetTypeString(<span class="keyword">this</span> Self&amp;&amp;)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> TTypeString&lt;Self&gt;(); }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>FMyDerivedType : FMyBaseType {}</div>
<div class="line"> </div>
<div class="line">FMyDerivedType myVar;</div>
<div class="line">UE_LOG(LogTemp, Display, <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;This is `%s`&quot;</span>, *myVar.GetTypeString());</div>
<div class="line"><span class="comment">// -&gt; This is `FMyDerivedType`</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// BUT!</span></div>
<div class="line"> </div>
<div class="line">FMyBaseType <span class="keyword">const</span>&amp; myBaseVar = myVar;</div>
<div class="line">UE_LOG(LogTemp, Display, <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;This is `%s`&quot;</span>, *myBaseVar.GetTypeString());</div>
<div class="line"><span class="comment">// -&gt; This is `FMyBaseType`</span></div>
</div><!-- fragment --><p>MCRO provides a base type <code>IHaveType</code> for storing the final type as an <code>FName</code> to avoid situations like above</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="da/db5/CommonCore_8h.html">Mcro/CommonCore.h</a>&quot;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="d4/df4/namespaceMcro_1_1Common.html">Mcro::Common</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>FMyBaseType : <a class="code hl_class" href="d8/d19/classMcro_1_1Types_1_1IHaveType.html">IHaveType</a> {}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>FMyDerivedType : FMyBaseType</div>
<div class="line">{</div>
<div class="line">    FMyDerivedType() { SetType(); }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">FMyDerivedType myVar;</div>
<div class="line">UE_LOG(LogTemp, Display, <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;This is as expected a `%s`&quot;</span>, *myVar.GetType().ToString());</div>
<div class="line"><span class="comment">// -&gt; This is as expected `FMyDerivedType`</span></div>
<div class="line"> </div>
<div class="line">FMyBaseType <span class="keyword">const</span>&amp; myBaseVar = myVar;</div>
<div class="line">UE_LOG(</div>
<div class="line">    LogTemp, Display,</div>
<div class="line">    <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;But asking the base type will still preserve `%s`&quot;</span>,</div>
<div class="line">    *myBaseVar.GetType().ToString()</div>
<div class="line">);</div>
<div class="line"><span class="comment">// -&gt; But asking the base type will still preserve `FMyDerivedType`</span></div>
<div class="ttc" id="aclassMcro_1_1Types_1_1IHaveType_html"><div class="ttname"><a href="d8/d19/classMcro_1_1Types_1_1IHaveType.html">Mcro::Types::IHaveType</a></div><div class="ttdoc">A barebones base class for types which may store their type-name as a string.</div><div class="ttdef"><b>Definition</b> <a href="d7/df8/Types_8h_source.html#l00045">Types.h:46</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md21"></a>
Auto modular features</h2>
<p>One use of <code>TTypeName</code> is making modular features easier to use:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="dc/d33/Common_8h.html">Mcro/Common.h</a>&quot;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="d4/df4/namespaceMcro_1_1Common.html">Mcro::Common</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// In central API module</span></div>
<div class="line"><span class="keyword">class </span>IProblemSolvingFeature : <span class="keyword">public</span> <a class="code hl_class" href="d1/d97/classMcro_1_1AutoModularFeature_1_1TAutoModularFeature.html">TAutoModularFeature</a>&lt;IProblemSolvingFeature&gt;</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> SolveAllProblems() = 0;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// In another implementation specific module</span></div>
<div class="line"><span class="comment">// Define implementation first</span></div>
<div class="line"><span class="keyword">class </span>FProblemSolver : <span class="keyword">public</span> IProblemSolvingFeature, <span class="keyword">public</span> <a class="code hl_class" href="d1/de1/classMcro_1_1AutoModularFeature_1_1IFeatureImplementation.html">IFeatureImplementation</a></div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    FProblemSolver() { Register(); }</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> SolveAllProblems() <span class="keyword">override</span>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create a global instance which is tied to a module (only for demonstrating MCRO observable modules)</span></div>
<div class="line"><a class="code hl_struct" href="d0/d68/structMcro_1_1Modules_1_1TModuleBoundObject.html">TModuleBoundObject&lt;FProblemSolverModule, FProblemSolver&gt;</a> GProblemSolver;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// In some other place, which doesn&#39;t know about the above implementation, the feature is used:</span></div>
<div class="line">IProblemSolvingFeature::Get().SolveAllProblems();</div>
<div class="ttc" id="aclassMcro_1_1AutoModularFeature_1_1IFeatureImplementation_html"><div class="ttname"><a href="d1/de1/classMcro_1_1AutoModularFeature_1_1IFeatureImplementation.html">Mcro::AutoModularFeature::IFeatureImplementation</a></div><div class="ttdoc">Tagging an implementation of a feature.</div><div class="ttdef"><b>Definition</b> <a href="d7/db5/AutoModularFeature_8h_source.html#l00029">AutoModularFeature.h:29</a></div></div>
<div class="ttc" id="aclassMcro_1_1AutoModularFeature_1_1TAutoModularFeature_html"><div class="ttname"><a href="d1/d97/classMcro_1_1AutoModularFeature_1_1TAutoModularFeature.html">Mcro::AutoModularFeature::TAutoModularFeature</a></div><div class="ttdoc">Auto Modular Features are a workflow with Modular Features where the developer doesn't have to rely o...</div><div class="ttdef"><b>Definition</b> <a href="d7/db5/AutoModularFeature_8h_source.html#l00095">AutoModularFeature.h:96</a></div></div>
<div class="ttc" id="astructMcro_1_1Modules_1_1TModuleBoundObject_html"><div class="ttname"><a href="d0/d68/structMcro_1_1Modules_1_1TModuleBoundObject.html">Mcro::Modules::TModuleBoundObject</a></div><div class="ttdoc">A wrapper around a given object which lifespan is bound to given module.</div><div class="ttdef"><b>Definition</b> <a href="dd/dc2/Modules_8h_source.html#l00219">Modules.h:220</a></div></div>
</div><!-- fragment --><p>Notice how the feature name has never needed to be explicitly specified as a string, because the type name is used under the hood.</p>
<h2><a class="anchor" id="autotoc_md22"></a>
Observable TState</h2>
<p>You have data members of your class, but you also want to notify others about how that's changing?</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="dc/d33/Common_8h.html">Mcro/Common.h</a>&quot;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="da/da9/namespaceMcro_1_1Common_1_1With_1_1InferDelegate.html">Mcro::Common::With::InferDelegate</a>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>FMyStuff</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_struct" href="d7/d5e/structMcro_1_1Observable_1_1TState.html">TState</a>&lt;int, {.StorePrevious = <span class="keyword">true</span>}&gt; State {-1};</div>
<div class="line"> </div>
<div class="line">    FMyStuff()</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Get previous values as well when `StorePrevious` flag is active</span></div>
<div class="line">        State.<a class="code hl_function" href="d8/d30/structMcro_1_1Observable_1_1IState.html#a23f41c6aee23625a0590fd33af599873">OnChange</a>([](<span class="keywordtype">int</span> next, TOptional&lt;int&gt; previous)</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// If `StorePrevious` flag is active we should always have a value in `previous`</span></div>
<div class="line">            <span class="comment">// so we should never see -2</span></div>
<div class="line">            UE_LOG(LogTemp, Display, <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;Changed from %d to %d&quot;</span>, previous.Get(-2), next);</div>
<div class="line">        });</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Listen to change only the first time</span></div>
<div class="line">        State.OnChange(</div>
<div class="line">            [](<span class="keywordtype">int</span> next) { UE_LOG(LogTemp, Display, <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;The first changed value is %d&quot;</span>, next); },</div>
<div class="line">            {.Once = <span class="keyword">true</span>}</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> Update(<span class="keywordtype">int</span> input)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (State.HasChangedFrom(input))</div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// Do things only when input value has changed from previous update</span></div>
<div class="line">            <span class="comment">// Combine it with short-circuiting maybe ;)</span></div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>FFoobar : TSharedFromThis&lt;FFoobar&gt;</div>
<div class="line">{</div>
<div class="line">    FMyStuff MyStuff;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> Thing(<a class="code hl_struct" href="dd/dcf/structMcro_1_1Observable_1_1TChangeData.html">TChangeData&lt;T&gt;</a> <span class="keyword">const</span>&amp; change, FString <span class="keyword">const</span>&amp; capture)</div>
<div class="line">    {</div>
<div class="line">        UE_LOG(LogTemp, Display, <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;React to %d with %s&quot;</span>, change.<a class="code hl_variable" href="dd/dcf/structMcro_1_1Observable_1_1TChangeData.html#a25a0f6961761740bca074faad4a38ca8">Next</a>, *capture);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> Do()</div>
<div class="line">    {</div>
<div class="line">        MyStuff.Update(1);</div>
<div class="line">        <span class="comment">// -&gt; Changed from -1 to 1</span></div>
<div class="line">        <span class="comment">// -&gt; The first changed value is 1</span></div>
<div class="line">        MyStuff.Update(2);</div>
<div class="line">        <span class="comment">// -&gt; Changed from 1 to 2</span></div>
<div class="line">        MyStuff.Update(2);</div>
<div class="line">        <span class="comment">// (nothing is logged as previous update was also 2)</span></div>
<div class="line">        MyStuff.OnChange(</div>
<div class="line">            [](<span class="keywordtype">int</span> next) { UE_LOG(LogTemp, Display, <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;Arriving late %d&quot;</span>, next); },</div>
<div class="line">            {.Belated = <span class="keyword">true</span>}</div>
<div class="line">        );</div>
<div class="line">        <span class="comment">// -&gt; Arriving late 2</span></div>
<div class="line">        MyStuff.Update(3);</div>
<div class="line">        <span class="comment">// -&gt; Changed from 2 to 3</span></div>
<div class="line">        <span class="comment">// -&gt; Arriving late 3</span></div>
<div class="line">        MyStuff.OnChange(<a class="code hl_function" href="d6/dd2/namespaceMcro_1_1Delegates_1_1InferDelegate.html#ae76d3762d68c77da68029e23ca2e67e6">From</a>(<span class="keyword">this</span>, &amp;FFoobar::Thing, <a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;a unicorn&quot;</span>));</div>
<div class="line">        MyStuff.Update(4)</div>
<div class="line">        <span class="comment">// -&gt; Changed from 3 to 4</span></div>
<div class="line">        <span class="comment">// -&gt; Arriving late 4</span></div>
<div class="line">        <span class="comment">// -&gt; React to 4 with a unicorn</span></div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="anamespaceMcro_1_1Delegates_1_1InferDelegate_html_ae76d3762d68c77da68029e23ca2e67e6"><div class="ttname"><a href="d6/dd2/namespaceMcro_1_1Delegates_1_1InferDelegate.html#ae76d3762d68c77da68029e23ca2e67e6">Mcro::Delegates::InferDelegate::From</a></div><div class="ttdeci">TInferredDelegate&lt; Function, Captures... &gt; From(Function func, Captures &amp;&amp;... captures)</div><div class="ttdoc">Instead of specifying manually a delegate type, infer it from the input function and the extra captur...</div><div class="ttdef"><b>Definition</b> <a href="d4/dbf/DelegateFrom_8h_source.html#l00056">DelegateFrom.h:56</a></div></div>
<div class="ttc" id="astructMcro_1_1Observable_1_1IState_html_a23f41c6aee23625a0590fd33af599873"><div class="ttname"><a href="d8/d30/structMcro_1_1Observable_1_1IState.html#a23f41c6aee23625a0590fd33af599873">Mcro::Observable::IState::OnChange</a></div><div class="ttdeci">FDelegateHandle OnChange(TDelegate&lt; void(TChangeData&lt; T &gt; const &amp;)&gt; onChange, FEventPolicy const &amp;eventPolicy={})</div><div class="ttdoc">Add a delegate which gets a TChangeData&lt;T&gt; const&amp; if this state has been set.</div><div class="ttdef"><b>Definition</b> <a href="d5/de3/Observable_8h_source.html#l00114">Observable.h:114</a></div></div>
<div class="ttc" id="astructMcro_1_1Observable_1_1TChangeData_html"><div class="ttname"><a href="dd/dcf/structMcro_1_1Observable_1_1TChangeData.html">Mcro::Observable::TChangeData</a></div><div class="ttdoc">This struct holds the circumstances of the data change. It cannot be moved or copied and its lifespan...</div><div class="ttdef"><b>Definition</b> <a href="d5/de3/Observable_8h_source.html#l00029">Observable.h:30</a></div></div>
<div class="ttc" id="astructMcro_1_1Observable_1_1TChangeData_html_a25a0f6961761740bca074faad4a38ca8"><div class="ttname"><a href="dd/dcf/structMcro_1_1Observable_1_1TChangeData.html#a25a0f6961761740bca074faad4a38ca8">Mcro::Observable::TChangeData::Next</a></div><div class="ttdeci">T Next</div><div class="ttdef"><b>Definition</b> <a href="d5/de3/Observable_8h_source.html#l00051">Observable.h:51</a></div></div>
<div class="ttc" id="astructMcro_1_1Observable_1_1TState_html"><div class="ttname"><a href="d7/d5e/structMcro_1_1Observable_1_1TState.html">Mcro::Observable::TState</a></div><div class="ttdoc">Storage wrapper for any value which state needs to be tracked or their change needs to be observed....</div><div class="ttdef"><b>Definition</b> <a href="d5/de3/Observable_8h_source.html#l00363">Observable.h:364</a></div></div>
</div><!-- fragment --><p>Multiple states can be also synced together, just declare pull or push sync relation once and they will update accordingly until one of them goes out of scope.</p>
<div class="fragment"><div class="line"><span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; child : Children)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Aggregate multiple states into one</span></div>
<div class="line">    LastError.SyncPull(child.LastError);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Broadcast one state to others</span></div>
<div class="line">    Attempts.SyncPush(child.Attempts);</div>
<div class="line">}</div>
</div><!-- fragment --><p>This of course only makes sense if the contents of the state is copyable.</p>
<h2><a class="anchor" id="autotoc_md23"></a>
Function Traits</h2>
<p>Make templates dealing with function types more readable and yet more versatile via the <code><a class="el" href="d5/de0/namespaceMcro_1_1FunctionTraits.html">Mcro::FunctionTraits</a></code> namespace. This is the foundation of many intricate teemplates <a class="el" href="d8/d63/namespaceMcro.html">Mcro</a> can offer.</p>
<p>Constraint/infer template parameters from the signature of an input function. (This is an annotated exempt from <code><a class="el" href="de/d2e/namespaceMcro_1_1UObjects_1_1Init.html">Mcro::UObjects::Init</a></code>)</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="d7/d25/FunctionTraits_8h.html">Mcro/FunctionTraits.h</a>&quot;</span> <span class="comment">// it also brings in Concepts</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="de/d2e/namespaceMcro_1_1UObjects_1_1Init.html">Mcro::UObjects::Init</a></div>
<div class="line">{</div>
<div class="line">    <span class="keyword">using namespace </span><a class="code hl_namespace" href="d5/de0/namespaceMcro_1_1FunctionTraits.html">Mcro::FunctionTraits</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span> &lt;</div>
<div class="line">        <span class="comment">// CFunctorObject constraints to a lambda function</span></div>
<div class="line">        <span class="comment">// use CFunctionLike to allow anything callable including function pointers</span></div>
<div class="line">        CFunctorObject Initializer,</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Get the first argument of `Initializer`</span></div>
<div class="line">        <span class="keyword">typename</span> Argument = <a class="code hl_typedef" href="d5/de0/namespaceMcro_1_1FunctionTraits.html#a03c6b0c1fd4799038c4fc4add5242f1d">TFunction_Arg&lt;Initializer, 0&gt;</a>,</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// That argument must be a UObject, and also cache its type</span></div>
<div class="line">        CUObject Result = std::decay_t&lt;Argument&gt;</div>
<div class="line">    &gt;</div>
<div class="line">    <span class="comment">// That argument  must also be an l-value ref</span></div>
<div class="line">    <span class="keyword">requires</span> std::is_lvalue_reference_v&lt;Argument&gt;</div>
<div class="line">    Result* Construct(<a class="code hl_struct" href="db/d50/structMcro_1_1UObjects_1_1Init_1_1FConstructObjectParameters.html">FConstructObjectParameters</a>&amp;&amp; params, Initializer&amp;&amp; init)</div>
<div class="line">    { ... }</div>
<div class="line">}</div>
<div class="ttc" id="aFunctionTraits_8h_html"><div class="ttname"><a href="d7/d25/FunctionTraits_8h.html">FunctionTraits.h</a></div></div>
<div class="ttc" id="anamespaceMcro_1_1FunctionTraits_html"><div class="ttname"><a href="d5/de0/namespaceMcro_1_1FunctionTraits.html">Mcro::FunctionTraits</a></div><div class="ttdef"><b>Definition</b> <a href="d7/d25/FunctionTraits_8h_source.html#l00021">FunctionTraits.h:22</a></div></div>
<div class="ttc" id="anamespaceMcro_1_1FunctionTraits_html_a03c6b0c1fd4799038c4fc4add5242f1d"><div class="ttname"><a href="d5/de0/namespaceMcro_1_1FunctionTraits.html#a03c6b0c1fd4799038c4fc4add5242f1d">Mcro::FunctionTraits::TFunction_Arg</a></div><div class="ttdeci">typename TFunctionTraits&lt; std::decay_t&lt; T &gt; &gt;::template Arg&lt; I &gt; TFunction_Arg</div><div class="ttdoc">Shorthand for getting a type of a function argument at given position I.</div><div class="ttdef"><b>Definition</b> <a href="d7/d25/FunctionTraits_8h_source.html#l00142">FunctionTraits.h:142</a></div></div>
<div class="ttc" id="anamespaceMcro_1_1UObjects_1_1Init_html"><div class="ttname"><a href="de/d2e/namespaceMcro_1_1UObjects_1_1Init.html">Mcro::UObjects::Init</a></div><div class="ttdef"><b>Definition</b> <a href="db/db1/Init_8h_source.html#l00017">Init.h:18</a></div></div>
<div class="ttc" id="astructMcro_1_1UObjects_1_1Init_1_1FConstructObjectParameters_html"><div class="ttname"><a href="db/d50/structMcro_1_1UObjects_1_1Init_1_1FConstructObjectParameters.html">Mcro::UObjects::Init::FConstructObjectParameters</a></div><div class="ttdoc">Mirror of FStaticConstructObjectParameters but it's a plain C++ object and doesn't have a constructor...</div><div class="ttdef"><b>Definition</b> <a href="db/db1/Init_8h_source.html#l00032">Init.h:33</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md24"></a>
Extending the Slate declarative syntax</h2>
<p><code>TAttributeBlock</code> adds the <code>/</code> operator to be used in Slate UI declarations, which can work with functions describing a common block of attributes for given widget.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;Mcro/Common&quot;</span>;</div>
<div class="line"><span class="keyword">using namespace </span><a class="code hl_namespace" href="d4/df4/namespaceMcro_1_1Common.html">Mcro::Common</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Define a reusable block of attributes</span></div>
<div class="line"><span class="keyword">auto</span> Text(FString <span class="keyword">const</span>&amp; text) -&gt; <a class="code hl_struct" href="dc/d99/structMcro_1_1Slate_1_1TAttributeBlockFunctor.html">TAttributeBlock&lt;STextBlock&gt;</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> [&amp;](STextBlock::FArguments&amp; args) -&gt; <span class="keyword">auto</span>&amp;</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> args</div>
<div class="line">        . Text(FText::FromString(text))</div>
<div class="line">        . Font(FCoreStyle::GetDefaultFontStyle(<span class="stringliteral">&quot;Mono&quot;</span>, 12));</div>
<div class="line">    };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Nest these blocks</span></div>
<div class="line"><span class="keyword">auto</span> OptionalText(FString <span class="keyword">const</span>&amp; text) -&gt; <a class="code hl_struct" href="dc/d99/structMcro_1_1Slate_1_1TAttributeBlockFunctor.html">TAttributeBlock&lt;STextBlock&gt;</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> [&amp;](STextBlock::FArguments&amp; args) -&gt; <span class="keyword">auto</span>&amp;</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> args</div>
<div class="line">            . Visibility(<a class="code hl_function" href="df/df4/namespaceMcro_1_1Slate.html#a4fa0c2bf1d38dc606f82a421bb902d3e">IsVisible</a>(!text.IsEmpty()))</div>
<div class="line">            / Text(text);</div>
<div class="line">    };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Accept attribute blocks as arguments</span></div>
<div class="line"><span class="keyword">auto</span> ExpandableText(</div>
<div class="line">    FText <span class="keyword">const</span>&amp; title,</div>
<div class="line">    FString <span class="keyword">const</span>&amp; text,</div>
<div class="line">    <a class="code hl_struct" href="dc/d99/structMcro_1_1Slate_1_1TAttributeBlockFunctor.html">TAttributeBlock&lt;STextBlock&gt;</a> <span class="keyword">const</span>&amp; textAttributes</div>
<div class="line">) -&gt; <a class="code hl_struct" href="dc/d99/structMcro_1_1Slate_1_1TAttributeBlockFunctor.html">TAttributeBlock&lt;SExpandableArea&gt;</a></div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> [&amp;](SExpandableArea::FArguments&amp; args) -&gt; <span class="keyword">auto</span>&amp;</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> args</div>
<div class="line">            . Visibility(<a class="code hl_function" href="df/df4/namespaceMcro_1_1Slate.html#a4fa0c2bf1d38dc606f82a421bb902d3e">IsVisible</a>(!text.IsEmpty()))</div>
<div class="line">            . AreaTitle(title)</div>
<div class="line">            . InitiallyCollapsed(<span class="keyword">true</span>)</div>
<div class="line">            . BodyContent()</div>
<div class="line">            [</div>
<div class="line">                SNew(STextBlock) / textAttributes</div>
<div class="line">            ];</div>
<div class="line">    };</div>
<div class="line">}</div>
<div class="ttc" id="anamespaceMcro_1_1Slate_html_a4fa0c2bf1d38dc606f82a421bb902d3e"><div class="ttname"><a href="df/df4/namespaceMcro_1_1Slate.html#a4fa0c2bf1d38dc606f82a421bb902d3e">Mcro::Slate::IsVisible</a></div><div class="ttdeci">MCRO_API EVisibility IsVisible(bool visible, EVisibility hiddenState=EVisibility::Collapsed)</div><div class="ttdoc">Convenience function for typing less when widget visibility depends on a boolean.</div></div>
<div class="ttc" id="astructMcro_1_1Slate_1_1TAttributeBlockFunctor_html"><div class="ttname"><a href="dc/d99/structMcro_1_1Slate_1_1TAttributeBlockFunctor.html">Mcro::Slate::TAttributeBlockFunctor</a></div><div class="ttdoc">An attribute block functor which takes in reference of FArguments or FSlotArguments and returns the s...</div><div class="ttdef"><b>Definition</b> <a href="d2/dc0/Slate_8h_source.html#l00090">Slate.h:91</a></div></div>
</div><!-- fragment --><p>Or add slots right in the Slate declarative syntax derived from an input range:</p>
<div class="fragment"><div class="line"><span class="comment">// This is just a convenience function so we don&#39;t repeat ourselves</span></div>
<div class="line"><span class="keyword">auto</span> Row() -&gt; SVerticalBox::FSlot::FSlotArguments</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span> MoveTemp(SVerticalBox::Slot()</div>
<div class="line">        . HAlign(HAlign_Fill)</div>
<div class="line">        . AutoHeight()</div>
<div class="line">    );</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> Construct(FArguments <span class="keyword">const</span>&amp; inArgs)</div>
<div class="line">{</div>
<div class="line">    ChildSlot</div>
<div class="line">    [</div>
<div class="line">        SNew(SVerticalBox)</div>
<div class="line">        + Row()[ SNew(STextBlock) / Text(<a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;Items:&quot;</span>) ]</div>
<div class="line">        + <a class="code hl_struct" href="d0/daf/structMcro_1_1Slate_1_1TSlots.html">TSlots</a>(inArgs._Items.Get(), [&amp;](FString <span class="keyword">const</span>&amp; item)</div>
<div class="line">        {</div>
<div class="line">            return MoveTemp(</div>
<div class="line">                Row()[ SNew(STextBlock) / Text(item) ]</div>
<div class="line">            );</div>
<div class="line">        })</div>
<div class="line">        + Row()[ SNew(STextBlock) / Text(<a class="code hl_define" href="d9/dde/TextMacros_8h.html#a9e3bd2dc94862c806215d1f46d9d7657">TEXT_</a><span class="stringliteral">&quot;Fin.&quot;</span>) ]</div>
<div class="line">    ];</div>
<div class="line">}</div>
<div class="ttc" id="astructMcro_1_1Slate_1_1TSlots_html"><div class="ttname"><a href="d0/daf/structMcro_1_1Slate_1_1TSlots.html">Mcro::Slate::TSlots</a></div><div class="ttdoc">Add multiple slots at the same time with the declarative syntax derived from an input data array.</div><div class="ttdef"><b>Definition</b> <a href="d2/dc0/Slate_8h_source.html#l00194">Slate.h:195</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md25"></a>
ISPC parallel tasks support</h2>
<p><code>McroISPC</code> module gives support for <code>task</code> and <code>launch</code> keywords of the ISPC language</p>
<div class="fragment"><div class="line">task <span class="keywordtype">void</span> MakeLookupUVLine(</div>
<div class="line">    uniform uint32 buffer[],</div>
<div class="line">    uniform uint32 width</div>
<div class="line">) {</div>
<div class="line">    uniform uint32 lineStart = taskIndex0 * width;</div>
<div class="line">    <span class="keywordflow">foreach</span> (i = 0 ... width)</div>
<div class="line">    {</div>
<div class="line">        varying uint32 address = lineStart + i;</div>
<div class="line">        buffer[address] = (i &lt;&lt; 16) | taskIndex0;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">export</span> <span class="keywordtype">void</span> MakeLookupUV(</div>
<div class="line">    uniform uint32 buffer[],</div>
<div class="line">    uniform uint32 width,</div>
<div class="line">    uniform uint32 height</div>
<div class="line">) {</div>
<div class="line">    launch [height] MakeLookupUVLine(buffer, width);</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md26"></a>
Last but not least</h2>
<ul>
<li><a class="el" href="d6/d11/AsNative_8h.html">Dynamic  Native (multicast) delegate interop</a></li>
<li><a class="el" href="db/de2/Composition_8h.html">Native C++ class composition utilities</a></li>
<li><a class="el" href="d7/dfe/Any_8h.html"><code>FAny</code> cloning boost/STL <code>any</code> but for Unreal style</a></li>
<li><a class="el" href="d6/d35/Text_8h.html">Text interop and conversion utilities</a></li>
<li><a class="el" href="dd/d0e/Threading_8h.html">Object binding and promises for <code>AsyncTask</code></a></li>
<li><a class="el" href="df/d42/Start_8h.html">Bullet-proof third-party library include guards.</a></li>
<li><a class="el" href="d1/dd5/Construct_8h.html">In-place lambda initializers</a> for both <a class="el" href="db/d9b/namespaceMcro_1_1SharedObjects.html#af61e42e2a3a1889799e27c8acd037875">C++ objects</a> and <a class="el" href="db/db1/Init_8h.html">UObjects</a></li>
<li><a class="el" href="d6/dd8/Dll_8h.html">RAII DLL loaders</a></li>
<li><a class="el" href="dd/dc2/Modules_8h.html"><code>IObservableModule</code> and module bound objects</a></li>
<li><a class="el" href="d7/d78/Subsystems_8h.html">Universal API to get subsystems</a></li>
<li><a class="el" href="d3/d3e/SharedObjects_8h.html">Shared object utilities</a></li>
<li><a class="el" href="dc/d41/TimespanLiterals_8h.html"><code>FTimespan</code> literals</a></li>
<li><a class="el" href="d1/d43/Yaml_8h.html">YAML utilities</a> (via <a href="https://github.com/jbeder/yaml-cpp">yaml-cpp</a>)</li>
<li>Windows:<ul>
<li><code>IError</code> wrapper for <code>HRESULT</code> and <code>GetLastError</code> extracting human readable error messages from them.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="Legal"></a>
Legal</h1>
<p><a class="el" href="da/dfb/Attribution.html">Third-party components used by MCRO</a></p>
<p>When using MCRO in a plugin distributed via Fab, the components above must be listed upon submission.</p>
<p>In addition the following tools and .NET libraries are used for build tooling:</p>
<ul>
<li><a href="https://nuke.build">NUKE</a></li>
<li><a href="https://github.com/scriban/scriban">Scriban</a></li>
<li><a href="https://github.com/Humanizr/Humanizer">Humanizer</a></li>
</ul>
<p>And documentation:</p>
<ul>
<li><a href="https://www.doxygen.nl/index.html">Doxygen</a></li>
<li><a href="https://jothepro.github.io/doxygen-awesome-css/">Doxygen Awesome</a></li>
</ul>
<p>This library is distributed under the <b>Mozilla Public License Version 2.0</b> open-source software license. Each source code file where this license is applicable contains a comment about this.</p>
<p>Modifying those files or the entire library for commercial purposes is allowed but those modifications should also be published free and open-source under the same license. However files added by third-party for commercial purposes interfacing with the original files under MPL v2.0 are not affected by MPL v2.0 and therefore can have any form of copyright the third-party may choose.</p>
<p>Using this library in any product without modifications doesn't limit how that product may be licensed.</p>
<p><a href="https://mozilla.org/MPL/2.0/">Full text of the license</a></p>
<div align="center"></div><div align="center"><img src="proto-logo-1.webp" alt="" width="400" class="inline"/></div><div align="center"></div> </div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
